:root{--bg-color: #f0f0f0;--text-color: #000000;--content-bg: #ffffff;--border-color: #cccccc;--button-bg: #e0e0e0;--button-hover-bg: #d0d0d0;--button-active-bg: #b0b0b0;--preview-size: 300px}@media(prefers-color-scheme:dark){:root{--bg-color: #202020;--text-color: #ffffff;--content-bg: #404040;--border-color: #555555;--button-bg: #3d3d3d;--button-hover-bg: #4d4d4d;--button-active-bg: #5d5d5d}}*{box-sizing:border-box}body{font-family:sans-serif;background-color:var(--bg-color);color:var(--text-color);margin:0;padding:1em;display:flex;flex-direction:column;align-items:center;width:100%;min-height:100vh}#root{width:100%;display:flex;flex-direction:column;align-items:center}main{width:100%;max-width:1024px}.top-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1em}h1{text-align:left;margin:0;font-size:2em}.lang-controls{display:flex;gap:5px}.lang-controls button{padding:6px 10px;min-width:35px;background-color:var(--content-bg)!important}.lang-controls button.active{background-color:var(--button-hover-bg)!important;box-shadow:inset 0 2px 4px #0003;border-color:var(--border-color);cursor:default;opacity:1}h2{margin-top:0}h3{margin:0;font-size:1.2em}hr.divider{border:0;border-top:1px solid var(--border-color);margin:2em 0;width:100%}.input-form{display:flex;flex-direction:column;gap:1em}.problem-text{width:100%;min-height:100px;background-color:var(--content-bg);color:var(--text-color);border:1px solid var(--border-color);border-radius:5px;padding:8px;font-family:inherit}.form-controls{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1em}.preview-container{display:flex;flex-direction:row;gap:10px;overflow-x:auto;padding:10px 5px;border:1px dashed var(--border-color);border-radius:5px;min-height:calc(var(--preview-size) + 20px);align-items:center;background-color:var(--content-bg)}.preview-container:empty:before{content:attr(data-placeholder);color:var(--text-color);opacity:.6;margin:auto}.preview-item{position:relative;width:var(--preview-size);height:var(--preview-size);flex-shrink:0;border:1px solid var(--border-color);background:var(--content-bg);border-radius:4px;display:flex;justify-content:center;align-items:center}.preview-item img{max-width:100%;max-height:100%;object-fit:contain;display:block}.remove-btn{position:absolute;top:-8px;right:-8px;width:22px;height:22px;border-radius:50%;background-color:#f44;color:#fff;border:2px solid var(--bg-color);cursor:pointer;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:14px;padding:0;line-height:1}.remove-btn:hover{background-color:#c00}button,input[type=file],select{padding:10px 15px;background-color:var(--content-bg);color:var(--text-color);border:1px solid var(--border-color);border-radius:5px;cursor:pointer}button:hover,select:hover{background-color:var(--button-hover-bg)}button:disabled{opacity:.6;cursor:not-allowed}.loading-spinner{display:inline-block;width:12px;height:12px;border:2px solid rgba(0,0,0,.3);border-radius:50%;border-top-color:var(--text-color);animation:spin 1s ease-in-out infinite;margin-right:8px;vertical-align:middle}@keyframes spin{to{transform:rotate(360deg)}}.output-section{width:100%}.output-container-field{border:1px solid var(--border-color);border-radius:5px;background-color:var(--content-bg);width:100%;margin-bottom:1.5em;position:relative;display:flex;flex-direction:column}.field-title{display:block;padding:.5em 1em;font-weight:700;font-size:1.1em;border-bottom:1px solid var(--border-color);background-color:var(--bg-color)}.field-content{padding:0;background-color:#fff}.output-label{display:block;margin-bottom:.5em;font-weight:700}.typst-editor{width:100%;min-height:300px;background-color:var(--content-bg);color:var(--text-color);border:1px solid var(--border-color);border-radius:4px;padding:12px;font-family:monospace;display:block;resize:vertical;margin-top:10px}.debug-textarea{width:100%;height:150px;font-family:monospace;background-color:#fff;border:none;border-radius:0;padding:12px;color:var(--text-color);display:block;resize:vertical}.result-header-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:1em}.debug-toggle-btn{background-color:var(--bg-color);color:#888;border:1px solid var(--border-color);border-radius:4px;padding:4px 12px;font-size:.75em;line-height:1.3;cursor:pointer;text-align:left;transition:all .2s;white-space:pre-line}.debug-toggle-btn:hover{background-color:var(--button-hover-bg);color:var(--text-color)}.btn-process{padding:10px 20px;font-size:1.2em;font-weight:400;background-color:var(--content-bg);color:var(--text-color);border:1px solid var(--border-color);border-radius:5px;cursor:pointer;display:flex;align-items:center;justify-content:center}.btn-process:hover{background-color:var(--button-hover-bg)}.mode-controls{display:flex;align-items:stretch;gap:15px}.toggle-wrapper{display:flex;align-items:center;gap:10px}.toggle-title{font-weight:400;font-size:1.2em;transition:opacity .3s,color .3s;opacity:.5}.toggle-title.active{opacity:1;color:var(--text-color)}.switch{position:relative;display:inline-block;width:40px;height:20px}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;inset:0;background-color:var(--button-bg);transition:.4s;border-radius:20px;border:1px solid var(--border-color)}.slider:before{position:absolute;content:"";height:14px;width:14px;left:2px;bottom:2px;background-color:#fff;transition:.4s;border-radius:50%}input:checked+.slider{background-color:#4caf50}input:focus+.slider{box-shadow:0 0 1px #4caf50}input:checked+.slider:before{transform:translate(20px)}.render-controls{display:flex;justify-content:space-between;margin-bottom:1em}.render-container{display:grid;grid-template-columns:1fr 1fr;gap:1em;width:100%}.render-column{border:1px solid var(--border-color);padding:1em;border-radius:5px;overflow-x:auto;min-width:0;position:relative;background-color:var(--content-bg)}.view-mode-stacked{grid-template-columns:1fr!important}.view-mode-split{grid-template-columns:1fr 1fr!important}.typst-render-container{display:flex;justify-content:center;align-items:flex-start;width:100%}.typst-render-svg{width:100%}.typst-render-svg svg{display:block;width:100%!important;height:auto!important;max-width:100%;max-height:90vh}.header-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5em;height:32px}.font-controls{display:flex;align-items:center;gap:5px;font-size:.9em}.font-controls button{padding:2px 8px;min-width:30px}@media(prefers-color-scheme:dark){.typst-render-svg svg{filter:invert(1) hue-rotate(180deg)}}.plain-text-render{white-space:pre-wrap;word-wrap:break-word;font-size:14px;margin-top:10px}.penrose-renders-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(calc(50% - 10px),1fr));gap:15px;width:100%;padding:15px;margin-top:10px}.penrose-render-item{position:relative;aspect-ratio:1 / 1;border:1px solid var(--border-color);border-radius:4px;background-color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden;padding:5px}.penrose-item-overlay{position:absolute;inset:0;background:#fffc;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:5;font-size:.8em;color:#333;text-align:center;padding:20px}.penrose-progress-container{width:60%;height:4px;background-color:var(--bg-color);border-radius:2px;overflow:hidden;margin-top:10px;border:1px solid var(--border-color)}.penrose-progress-bar{height:100%;background-color:#888;transition:width .1s ease-out}.penrose-render-svg-container{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.penrose-render-svg-container svg{max-width:100%;max-height:100%;height:auto}.penrose-item-controls{position:absolute;bottom:5px;right:5px;z-index:10;display:flex;gap:5px}.retry-btn{padding:4px 8px;font-size:.75em;background-color:var(--button-bg);border:1px solid var(--border-color);border-radius:3px;opacity:.8;transition:opacity .2s}.retry-btn:hover{opacity:1;background-color:var(--button-hover-bg)}.penrose-energy-tag{position:absolute;top:5px;left:5px;font-size:.7em;color:#666;background:#ffffffb3;padding:2px 4px;border-radius:3px;z-index:10}.copy-wrapper{position:absolute;top:10px;right:10px;display:flex;align-items:center;gap:8px;z-index:10}.copy-feedback{font-size:.8em;color:#4caf50;opacity:0;transition:opacity .3s ease;pointer-events:none;background:var(--bg-color);padding:2px 5px;border-radius:3px}.copy-feedback.show{opacity:1}.icon-btn{padding:5px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:1px solid transparent;color:var(--text-color);transition:all .2s}.icon-btn:hover{background-color:var(--button-hover-bg);border-color:var(--border-color);border-radius:4px}.icon-btn svg{width:18px;height:18px}@media(max-width:800px){.render-container{grid-template-columns:1fr}}
